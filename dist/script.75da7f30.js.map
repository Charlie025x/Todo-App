{"version":3,"sources":["script.js"],"names":["listsContainer","document","querySelector","newListForm","newListInput","deleteListButton","listDisplayContainer","listTitleElement","listCountElement","tasksContainer","taskTemplate","getElementById","newTaskForm","newTaskInput","clearCompleteTasksButton","LOCAL_STORAGE_LIST_KEY","LOCAL_STORAGE_SELECCTED_LIST_ID_KEY","lists","JSON","parse","localStorage","getItem","selectedListId","addEventListener","e","target","tagName","toLowerCase","dataset","listId","saveAndRender","selectedList","find","list","id","selectedTask","tasks","task","complete","checked","save","renderTaskCount","filter","preventDefault","listName","value","createList","push","taskName","createTask","name","Date","now","toString","render","setItem","stringify","clearElement","renderLists","style","display","innerText","renderTasks","forEach","taskElement","importNode","content","checkbox","label","htmlFor","append","appendChild","incompleteTaskCount","length","taskString","listElement","createElement","classList","add","element","firstChild","removeChild"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\src","sourcesContent":["const listsContainer = document.querySelector('[data-lists]')\r\nconst newListForm = document.querySelector('[data-new-list-form]')\r\nconst newListInput = document.querySelector('[data-new-list-input]')\r\nconst deleteListButton = document.querySelector('[data-delete-list-button]')\r\nconst listDisplayContainer = document.querySelector('[data-list-display-container]')\r\nconst listTitleElement = document.querySelector('[data-list-title]')\r\nconst listCountElement = document.querySelector('[data-list-count]')\r\nconst tasksContainer = document.querySelector('[data-tasks]')\r\nconst taskTemplate = document.getElementById('task-template')\r\nconst newTaskForm = document.querySelector('[data-new-task-form]')\r\nconst newTaskInput = document.querySelector('[data-new-task-input]')\r\nconst clearCompleteTasksButton = document.querySelector('[data-clear-complete-tasks-button]')\r\n\r\nconst LOCAL_STORAGE_LIST_KEY = 'task.lists'\r\nconst LOCAL_STORAGE_SELECCTED_LIST_ID_KEY = \"task.selectedListId\"\r\nlet lists = JSON.parse(localStorage.getItem(LOCAL_STORAGE_LIST_KEY)) || []\r\nlet selectedListId = localStorage.getItem(LOCAL_STORAGE_SELECCTED_LIST_ID_KEY)\r\n\r\nlistsContainer.addEventListener('click', e => {\r\n    if (e.target.tagName.toLowerCase() === 'li') {\r\n        selectedListId = e.target.dataset.listId\r\n        saveAndRender()\r\n    }\r\n})\r\n\r\ntasksContainer.addEventListener('click', e => {\r\n    if (e.target.tagName.toLowerCase() === 'input') {\r\n        const selectedList = lists.find(list => list.id === selectedListId)\r\n        const selectedTask = selectedList.tasks.find(task => task.id === e.target.id)\r\n        selectedTask.complete = e.target.checked\r\n        save()\r\n        renderTaskCount(selectedList)\r\n    }\r\n})\r\n\r\nclearCompleteTasksButton.addEventListener('click', e => {\r\n    const selectedList = lists.find(list => list.id === selectedListId)\r\n    selectedList.tasks = selectedList.tasks.filter(task => !task.complete)\r\n    saveAndRender()\r\n})\r\n\r\ndeleteListButton.addEventListener('click', e => {\r\n    lists = lists.filter(list => list.id !== selectedListId)\r\n    selectedListId = null\r\n    saveAndRender()\r\n})\r\n\r\nnewListForm.addEventListener('submit', e => {\r\n    e.preventDefault()\r\n    const listName = newListInput.value\r\n    if (listName == null || listName === '') return\r\n    const list = createList(listName)\r\n    newListInput.value = null\r\n    lists.push(list)\r\n    saveAndRender()\r\n})\r\n\r\nnewTaskForm.addEventListener('submit', e => {\r\n    e.preventDefault()\r\n    const taskName = newTaskInput.value\r\n    if (taskName == null || taskName === '') return\r\n    const task = createTask(taskName)\r\n    newTaskInput.value = null\r\n    const selectedList = lists.find(list => list.id === selectedListId)\r\n    selectedList.tasks.push(task)\r\n    saveAndRender()\r\n})\r\n\r\nfunction createList(name) {\r\n    return { id: Date.now().toString(), name: name, tasks: []}\r\n}\r\n\r\nfunction createTask(name) {\r\n    return { id: Date.now().toString(), name: name, complete: false }\r\n}\r\n\r\nfunction saveAndRender() {\r\n    save()\r\n    render()\r\n}\r\n\r\nfunction save() {\r\n    localStorage.setItem(LOCAL_STORAGE_LIST_KEY, JSON.stringify(lists))\r\n    localStorage.setItem(LOCAL_STORAGE_SELECCTED_LIST_ID_KEY, selectedListId)\r\n}\r\n\r\nfunction render() {\r\n    clearElement(listsContainer)\r\n    renderLists()\r\n\r\n    const selectedList = lists.find(list => list.id === selectedListId)\r\n    if (selectedListId == null) {\r\n        listDisplayContainer.style.display = 'none'\r\n    } else {\r\n        listDisplayContainer.style.display = ''\r\n        listTitleElement.innerText = selectedList.name\r\n        renderTaskCount(selectedList)\r\n        clearElement(tasksContainer)\r\n        renderTasks(selectedList)\r\n    }\r\n}\r\n\r\nfunction renderTasks(selectedList) {\r\n    selectedList.tasks.forEach(task => {\r\n        const taskElement = document.importNode(taskTemplate.content, true)\r\n        const checkbox = taskElement.querySelector('input')\r\n        checkbox.id = task.id\r\n        checkbox.checked = task.complete\r\n        const label = taskElement.querySelector('label')\r\n        label.htmlFor = task.id\r\n        label.append(task.name)\r\n        tasksContainer.appendChild(taskElement)\r\n    })\r\n}\r\n\r\nfunction renderTaskCount(selectedList) {\r\n    const incompleteTaskCount = selectedList.tasks.filter(task =>\r\n        !task.complete).length\r\n        const taskString = incompleteTaskCount === 1 ? \"task\" : \"tasks\"\r\n        listCountElement.innerText = `${incompleteTaskCount} ${taskString} remaining`\r\n}\r\n\r\nfunction renderLists() {\r\n    lists.forEach(list => {\r\n        const listElement = document.createElement('li')\r\n        listElement.dataset.listId = list.id\r\n        listElement.classList.add(\"list-name\")\r\n        listElement.innerText = list.name\r\n        if (list.id === selectedListId) {\r\n            listElement.classList.add('active-list')\r\n        }\r\n        listsContainer.appendChild(listElement)\r\n    })\r\n}\r\n\r\nfunction clearElement(element) {\r\n    while (element.firstChild) {\r\n        element.removeChild(element.firstChild)\r\n    }\r\n}\r\n\r\nrender()"]}